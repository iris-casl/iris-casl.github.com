<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>IRIS: highLevelPacket.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_f1f8134e0b15b856b6559ba854150f02.html">source</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_221ef5c8c36c316602e1e2dfa295c6a6.html">simIris</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_cddfab6c5b0a1169f0ad8e1b290c884b.html">data_types</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_13bb298d2b78eda2673eaf3b97f34fa8.html">impl</a>
  </div>
</div>
<div class="contents">
<h1>highLevelPacket.h</h1><a href="highLevelPacket_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * =====================================================================================</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> *       Filename:  HighLevelPacket.h</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> *    Description:  </span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> *        Version:  1.0</span>
<a name="l00009"></a>00009 <span class="comment"> *        Created:  02/09/2010 08:23:37 PM</span>
<a name="l00010"></a>00010 <span class="comment"> *       Revision:  none</span>
<a name="l00011"></a>00011 <span class="comment"> *       Compiler:  gcc</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> *         Author:  Mitchelle Rasquinha (), mitchelle.rasquinha@gatech.edu</span>
<a name="l00014"></a>00014 <span class="comment"> *        Company:  Georgia Institute of Technology</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * =====================================================================================</span>
<a name="l00017"></a>00017 <span class="comment"> */</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="preprocessor">#ifndef  _highlevelpacket_h_INC</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor">#define  _highlevelpacket_h_INC</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#include        &lt;sstream&gt;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include        &lt;string&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include        &lt;math.h&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include        "../../../kernel/simulator.h"</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include        "../../../util/simIrisComponentHeader.h"</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include        "<a class="code" href="lowLevelPacket_8h.html">lowLevelPacket.h</a>"</span>
<a name="l00027"></a>00027 
<a name="l00028"></a><a class="code" href="highLevelPacket_8h.html#33774cedf72b898dc98d1505677d33a0">00028</a> <span class="preprocessor">#define CONTROL_VECTOR_SIZE 16</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00030"></a>00030 <span class="keyword">using namespace </span>std;
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="comment">/*</span>
<a name="l00034"></a>00034 <span class="comment"> * =====================================================================================</span>
<a name="l00035"></a>00035 <span class="comment"> *        Class:  HighLevelPacket</span>
<a name="l00036"></a>00036 <span class="comment"> *  Description:  </span>
<a name="l00037"></a>00037 <span class="comment"> *</span>
<a name="l00038"></a>00038 <span class="comment"> * =====================================================================================</span>
<a name="l00039"></a>00039 <span class="comment"> */</span>
<a name="l00040"></a><a class="code" href="classHighLevelPacket.html">00040</a> <span class="keyword">class </span><a class="code" href="classHighLevelPacket.html">HighLevelPacket</a>
<a name="l00041"></a>00041 {
<a name="l00042"></a>00042     <span class="keyword">public</span>:
<a name="l00043"></a>00043         <span class="comment">/* ====================  LIFECYCLE     ======================================= */</span>
<a name="l00044"></a>00044         <a class="code" href="classHighLevelPacket.html#e6f7a4ec429537928d24f6a2199a3f8d">HighLevelPacket</a> ();                             <span class="comment">/* constructor */</span>
<a name="l00045"></a>00045         <a class="code" href="classHighLevelPacket.html#dc29e5ebbbb6e7c3b1d1a53b0ea14142">~HighLevelPacket</a>();
<a name="l00046"></a>00046 
<a name="l00047"></a>00047         <span class="comment">/* ====================  STATISTICS ======================================= */</span>
<a name="l00048"></a>00048         <span class="comment">/* Keep track of the packet transit time */</span>
<a name="l00049"></a>00049         <a class="code" href="simIrisComponentHeader_8h.html#d88faca783e7aa496cda721d9029a2e3">simTime</a> <a class="code" href="classHighLevelPacket.html#0ddd2a5fd2195c2ce43198c82163522c">get_transit_time</a>();
<a name="l00050"></a>00050 
<a name="l00051"></a>00051         <span class="comment">/* ====================  OPERATIONS      ======================================= */</span>
<a name="l00052"></a>00052         <span class="keywordtype">void</span> <a class="code" href="classHighLevelPacket.html#03017f87443d346d08e8ebb4281073c1">to_low_level_packet</a>(<a class="code" href="classLowLevelPacket.html">LowLevelPacket</a>* llp) ;
<a name="l00053"></a>00053         <span class="keywordtype">void</span> <a class="code" href="classHighLevelPacket.html#6a4e25020ea0c66aab015e9c2a2c8c85">from_low_level_packet</a>(<a class="code" href="classLowLevelPacket.html">LowLevelPacket</a>* llp);
<a name="l00054"></a>00054 
<a name="l00055"></a>00055         <span class="comment">/* ====================  OPERATORS     ======================================= */</span>
<a name="l00056"></a>00056         <span class="keywordtype">string</span> <a class="code" href="classHighLevelPacket.html#a2292ef0554d515cf08aeed8ca46d419">toString</a>() <span class="keyword">const</span>;
<a name="l00057"></a>00057         <span class="comment">/* Assuming that a minimal check on the transaction id and source should suffice. In accordance with the QPI spec all packets have the transaction Id which can be mapped back to the caching agent that generated the request. Once the transaction is completed and the response arrives at the caching agent, a tear down is initiated and the transaction ids may be reused at the source.*/</span>
<a name="l00058"></a>00058         <span class="keywordtype">bool</span> <a class="code" href="classHighLevelPacket.html#08e3560b71bab8b1ff31844d8ddff819">operator==</a>( <span class="keyword">const</span> <a class="code" href="classHighLevelPacket.html">HighLevelPacket</a>* p );
<a name="l00059"></a>00059 
<a name="l00060"></a>00060         <span class="comment">/* for debug */</span>
<a name="l00061"></a><a class="code" href="classHighLevelPacket.html#64f74b9238b8a606a82e41da4d93de93">00061</a>         <a class="code" href="simIrisComponentHeader_8h.html#b03b0cc5e09b0e1f1ca05c2502cb93f4">ullint</a> <a class="code" href="classHighLevelPacket.html#64f74b9238b8a606a82e41da4d93de93">addr</a>;
<a name="l00062"></a>00062 
<a name="l00063"></a>00063         <span class="comment">/* Stats variables */</span>
<a name="l00064"></a><a class="code" href="classHighLevelPacket.html#6586c04ecd2c2c5ad01f0f4433f2b77a">00064</a>         <span class="keywordtype">double</span> <a class="code" href="classHighLevelPacket.html#6586c04ecd2c2c5ad01f0f4433f2b77a">avg_network_latency</a>;
<a name="l00065"></a><a class="code" href="classHighLevelPacket.html#ffa29cc3a49b36a798ae083a6f80f8e5">00065</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classHighLevelPacket.html#ffa29cc3a49b36a798ae083a6f80f8e5">hop_count</a>;
<a name="l00066"></a><a class="code" href="classHighLevelPacket.html#9b5cf0352fb4890ab094d21de459474a">00066</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classHighLevelPacket.html#9b5cf0352fb4890ab094d21de459474a">stat_memory_serviced_time</a>;
<a name="l00067"></a><a class="code" href="classHighLevelPacket.html#9976d52a0c6566b9227154d4badcfb57">00067</a>         <a class="code" href="simIrisComponentHeader_8h.html#b03b0cc5e09b0e1f1ca05c2502cb93f4">ullint</a> <a class="code" href="classHighLevelPacket.html#9976d52a0c6566b9227154d4badcfb57">req_start_time</a>;
<a name="l00068"></a><a class="code" href="classHighLevelPacket.html#80531eda576b228669b9ed662e4863fc">00068</a>         <a class="code" href="simIrisComponentHeader_8h.html#b03b0cc5e09b0e1f1ca05c2502cb93f4">ullint</a> <a class="code" href="classHighLevelPacket.html#80531eda576b228669b9ed662e4863fc">waiting_in_ni</a>;
<a name="l00069"></a>00069 
<a name="l00070"></a><a class="code" href="classHighLevelPacket.html#d09485039d19ea9f0f58697e9fdf6450">00070</a>         <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classHighLevelPacket.html#d09485039d19ea9f0f58697e9fdf6450">source</a>;
<a name="l00071"></a><a class="code" href="classHighLevelPacket.html#abe7a75c784f1824211ba194819e0d4e">00071</a>         <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classHighLevelPacket.html#abe7a75c784f1824211ba194819e0d4e">destination</a>;
<a name="l00072"></a><a class="code" href="classHighLevelPacket.html#9e92e51a445389b6c84874638582c156">00072</a>         <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classHighLevelPacket.html#9e92e51a445389b6c84874638582c156">pkt_cnt</a>;   <span class="comment">//The number of requests clubbed together</span>
<a name="l00073"></a><a class="code" href="classHighLevelPacket.html#304a1a4171dd986e5081ba7f64cf1257">00073</a>         <span class="keywordtype">int</span> <a class="code" href="classHighLevelPacket.html#304a1a4171dd986e5081ba7f64cf1257">reqs_left</a>;  <span class="comment">// requests left in outstanding_hlp</span>
<a name="l00074"></a><a class="code" href="classHighLevelPacket.html#ec807a7bab73b8adc80d3a3df586a47d">00074</a>         <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classHighLevelPacket.html#ec807a7bab73b8adc80d3a3df586a47d">startIndex</a>;        <span class="comment">//the index till where packets have been stripped and sent to the banks</span>
<a name="l00075"></a><a class="code" href="classHighLevelPacket.html#0e554b43c609ab77758300f332679a29">00075</a>         <a class="code" href="simIrisComponentHeader_8h.html#2f11671ee174f5c324e71f348aef6e96">virtual_network</a> <a class="code" href="classHighLevelPacket.html#0e554b43c609ab77758300f332679a29">vn</a>;
<a name="l00076"></a><a class="code" href="classHighLevelPacket.html#e46f274428c73774b8ab21ca885b84ec">00076</a>         <a class="code" href="simIrisComponentHeader_8h.html#155eefa40b3e6db305cb151f7bb6bef4">message_class</a> <a class="code" href="classHighLevelPacket.html#e46f274428c73774b8ab21ca885b84ec">msg_class</a>;
<a name="l00077"></a><a class="code" href="classHighLevelPacket.html#0e369f54800e9bb403f8277b94cbaa96">00077</a>         <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classHighLevelPacket.html#0e369f54800e9bb403f8277b94cbaa96">virtual_channel</a>;
<a name="l00078"></a><a class="code" href="classHighLevelPacket.html#287c21f9e31f882ffe8c8ff353dab087">00078</a>         <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classHighLevelPacket.html#287c21f9e31f882ffe8c8ff353dab087">transaction_id</a>;
<a name="l00079"></a><a class="code" href="classHighLevelPacket.html#eed2f14fb0b689f35a92c054a831867c">00079</a>         <a class="code" href="simIrisComponentHeader_8h.html#d88faca783e7aa496cda721d9029a2e3">simTime</a> <a class="code" href="classHighLevelPacket.html#eed2f14fb0b689f35a92c054a831867c">sent_time</a>;
<a name="l00080"></a><a class="code" href="classHighLevelPacket.html#5de1d4d144aa5e9fdac1a3988384d92f">00080</a>         <a class="code" href="simIrisComponentHeader_8h.html#d88faca783e7aa496cda721d9029a2e3">simTime</a> <a class="code" href="classHighLevelPacket.html#5de1d4d144aa5e9fdac1a3988384d92f">recv_time</a>;
<a name="l00081"></a><a class="code" href="classHighLevelPacket.html#c7bf05e9b1560991d60ca12fd0d309a3">00081</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classHighLevelPacket.html#c7bf05e9b1560991d60ca12fd0d309a3">data_payload_length</a>;       <span class="comment">/* length of the data payload in bytes */</span>
<a name="l00082"></a><a class="code" href="classHighLevelPacket.html#340b7688df206e49a62301e2dae093de">00082</a>         vector&lt;bool&gt; <a class="code" href="classHighLevelPacket.html#340b7688df206e49a62301e2dae093de">data</a>;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084     <span class="keyword">protected</span>:
<a name="l00085"></a>00085 
<a name="l00086"></a>00086     <span class="keyword">private</span>:
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 }; <span class="comment">/* -----  end of class HighLevelPacket  ----- */</span>
<a name="l00089"></a>00089 
<a name="l00090"></a>00090 <span class="preprocessor">#endif   </span><span class="comment">/* ----- #ifndef _highlevelpacket_h_INC  ----- */</span>
<a name="l00091"></a>00091 
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Oct 19 17:22:00 2010 for IRIS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
