<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>IRIS: genericRouterPhy.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_f1f8134e0b15b856b6559ba854150f02.html">source</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_221ef5c8c36c316602e1e2dfa295c6a6.html">simIris</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_138babf824e4cc16ed73aad4c9c84470.html">components</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_d34b7385268f90f22ed27b92f9e8c299.html">impl</a>
  </div>
</div>
<div class="contents">
<h1>genericRouterPhy.h</h1><a href="genericRouterPhy_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00053"></a>00053 <span class="preprocessor">#ifndef  _genericRouterPhy_h_INC</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span><span class="preprocessor">#define  _genericRouterPhy_h_INC</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span>
<a name="l00056"></a>00056 <span class="preprocessor">#include        "../interfaces/router.h"</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include        "<a class="code" href="genericBuffer_8h.html">genericBuffer.h</a>"</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include        "<a class="code" href="genericRC_8h.html">genericRC.h</a>"</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include        "<a class="code" href="ptop__swa_8h.html">ptop_swa.h</a>"</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include        "<a class="code" href="genericCrossbar_8h.html">genericCrossbar.h</a>"</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include        "../../../util/genericData.h"</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include        "../../../util/stats.h"</span>
<a name="l00063"></a>00063 <span class="preprocessor">#include        "<a class="code" href="genericLink_8h.html">genericLink.h</a>"</span>
<a name="l00064"></a>00064 <span class="preprocessor">#include        &lt;sys/time.h&gt;</span>
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 <span class="keyword">extern</span> <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="genericRouter4Stg_8h.html#97bd678cd4246f1a0157eff907e3fea1">send_early_credit</a>;
<a name="l00067"></a>00067 <span class="keyword">extern</span> <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="genericInterfaceNB_8h.html#5ef61643d57baddad3f036737403d4cf">do_two_stage_router</a>;
<a name="l00068"></a>00068 <span class="keyword">extern</span> <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="genericRouter4Stg_8h.html#979839b2e0446b6b65759f8df3b2b27d">stat_print_level</a>;
<a name="l00069"></a>00069 <span class="keyword">extern</span> <a class="code" href="classIrisStats.html">IrisStats</a>* <a class="code" href="genericInterfaceNB_8h.html#a5569e4efb7c94b0e4591c0f50cab5c3">istat</a>;
<a name="l00070"></a>00070 
<a name="l00071"></a><a class="code" href="classGenericRouterPhy.html">00071</a> <span class="keyword">class </span><a class="code" href="classGenericRouterPhy.html">GenericRouterPhy</a>: <span class="keyword">public</span> <a class="code" href="classRouter.html">Router</a>
<a name="l00072"></a>00072 {
<a name="l00073"></a>00073     <span class="keyword">public</span>:
<a name="l00074"></a>00074         <a class="code" href="classGenericRouterPhy.html#45478aa40fc08e75b68988ac1aed9202">GenericRouterPhy</a> ();                             <span class="comment">/* constructor */</span>
<a name="l00075"></a>00075         <a class="code" href="classGenericRouterPhy.html#fe6af541ffd11192e49d51185706e283">~GenericRouterPhy</a>();
<a name="l00076"></a>00076         <span class="keywordtype">void</span> <a class="code" href="classGenericRouterPhy.html#f6038f8e3269bb7639fad51478761e19">init</a>(<a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classRouter.html#fd8e8adaf03e17b3fdbf7adc758c8f48">ports</a>, <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classRouter.html#ebaf2bc63bd99effe6520f9718120a1e">vcs</a>, <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classRouter.html#d747f5b948a9ef1497de6d4bb97b8f03">credits</a>, <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classRouter.html#b456618374083b8f2ec3c8e889d45bac">buffer_size</a>);
<a name="l00077"></a>00077 
<a name="l00078"></a>00078         <span class="keywordtype">void</span> <a class="code" href="classGenericRouterPhy.html#b89394e2ae90d5967572e14517f213e4" title="These functions are mainly for DOR routing and are seperated so as to not force DOR...">set_no_nodes</a>( <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> nodes);
<a name="l00079"></a>00079         <span class="keywordtype">void</span> <a class="code" href="classGenericRouterPhy.html#bc685e57a606cad95085f5c70bb3aa52">set_grid_x_location</a> ( <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> a, <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> b, <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> c);
<a name="l00080"></a>00080         <span class="keywordtype">void</span> <a class="code" href="classGenericRouterPhy.html#2404e72def22f8d4cad0196c92df4a95">set_grid_y_location</a> ( <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> a, <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> b, <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> c);
<a name="l00081"></a>00081 
<a name="l00082"></a>00082         <span class="keywordtype">void</span> <a class="code" href="classGenericRouterPhy.html#f1f981db54295f8af0c8404f1c5a4460">send_credit_back</a>( <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i);
<a name="l00083"></a>00083 
<a name="l00084"></a>00084         <span class="keywordtype">void</span> <a class="code" href="classGenericRouterPhy.html#e8834516d50f156e6a2db624605d9080">process_event</a>(<a class="code" href="classIrisEvent.html">IrisEvent</a>* e);
<a name="l00085"></a>00085         <span class="keywordtype">string</span> <a class="code" href="classGenericRouterPhy.html#5f62a081acb4d368f121e8cb2bac20bc">toString</a>() <span class="keyword">const</span>;
<a name="l00086"></a>00086         <span class="keywordtype">string</span> <a class="code" href="classGenericRouterPhy.html#4b600c15f3fee752a504d6b2aa0521b0" title="Prints out all the accumulated stats at the end of the simulation. Routers have a...">print_stats</a>();
<a name="l00087"></a><a class="code" href="classGenericRouterPhy.html#a50d1061332cb883b512976b9ad73596">00087</a>         vector&lt; vector&lt;uint&gt; &gt; <a class="code" href="classGenericRouterPhy.html#a50d1061332cb883b512976b9ad73596">downstream_credits</a>;
<a name="l00088"></a>00088 
<a name="l00089"></a>00089         <span class="comment">/* These are the statistics variables */</span>
<a name="l00090"></a><a class="code" href="classGenericRouterPhy.html#f2969176effb48b73d57d1ca0814500e">00090</a>         <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classGenericRouterPhy.html#f2969176effb48b73d57d1ca0814500e">packets</a>;
<a name="l00091"></a><a class="code" href="classGenericRouterPhy.html#5fba437e10b03bed92ee7729faec9828">00091</a>         <a class="code" href="inputBuffer_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classGenericRouterPhy.html#5fba437e10b03bed92ee7729faec9828">flits</a>;
<a name="l00092"></a><a class="code" href="classGenericRouterPhy.html#80dc426d74b449b52c661b5cdd4b8ec3">00092</a>         <span class="keywordtype">double</span> <a class="code" href="classGenericRouterPhy.html#80dc426d74b449b52c661b5cdd4b8ec3">total_packet_latency</a>;
<a name="l00093"></a><a class="code" href="classGenericRouterPhy.html#02d82e3836ff3edd58951756e5eeb348">00093</a>         <span class="keywordtype">double</span> <a class="code" href="classGenericRouterPhy.html#02d82e3836ff3edd58951756e5eeb348">last_flit_out_cycle</a>;
<a name="l00094"></a><a class="code" href="classGenericRouterPhy.html#83c59f22a2e80690acc03ec6f0309a2e">00094</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="classGenericRouterPhy.html#83c59f22a2e80690acc03ec6f0309a2e">stat_sim_total_time</a>;
<a name="l00095"></a><a class="code" href="classGenericRouterPhy.html#5d658f80df12d55f57908b310f501ad9">00095</a>         vector&lt; vector&lt;uint&gt; &gt; <a class="code" href="classGenericRouterPhy.html#5d658f80df12d55f57908b310f501ad9">stat_packet_out</a>;
<a name="l00096"></a><a class="code" href="classGenericRouterPhy.html#1ff44f0e7d58593baaf4a52b77146922">00096</a>         vector&lt; vector&lt;uint&gt; &gt; <a class="code" href="classGenericRouterPhy.html#1ff44f0e7d58593baaf4a52b77146922">stat_flit_out</a>;
<a name="l00097"></a>00097 
<a name="l00098"></a>00098     <span class="keyword">protected</span>:
<a name="l00099"></a>00099 
<a name="l00100"></a>00100     <span class="keyword">private</span>:
<a name="l00101"></a><a class="code" href="classGenericRouterPhy.html#0dca689d2131527bd6a65bc416416d73">00101</a>         vector &lt;GenericBuffer&gt; <a class="code" href="classGenericRouterPhy.html#0dca689d2131527bd6a65bc416416d73">in_buffers</a>;
<a name="l00102"></a><a class="code" href="classGenericRouterPhy.html#2f3d68350d3c1ee54dff03b18ad1cca2">00102</a>         vector &lt;GenericRC&gt; <a class="code" href="classGenericRouterPhy.html#2f3d68350d3c1ee54dff03b18ad1cca2">decoders</a>;
<a name="l00103"></a><a class="code" href="classGenericRouterPhy.html#97d31d7dc75a51a442b63568ceda2223">00103</a>         vector &lt;InputBufferState&gt; <a class="code" href="classGenericRouterPhy.html#97d31d7dc75a51a442b63568ceda2223">input_buffer_state</a>;
<a name="l00104"></a><a class="code" href="classGenericRouterPhy.html#de289f137655be1bc28399fd00946c97">00104</a>         <a class="code" href="classPToPSwitchArbiter.html">PToPSwitchArbiter</a> <a class="code" href="classGenericRouterPhy.html#de289f137655be1bc28399fd00946c97">swa</a>;
<a name="l00105"></a><a class="code" href="classGenericRouterPhy.html#9796ddef63029848135f716125c7411a">00105</a>         <a class="code" href="classGenericCrossbar.html">GenericCrossbar</a> <a class="code" href="classGenericRouterPhy.html#9796ddef63029848135f716125c7411a">xbar</a>;
<a name="l00106"></a>00106 
<a name="l00107"></a><a class="code" href="classGenericRouterPhy.html#38ea869fd387f2ee8210c615ffd5a65a">00107</a>         <span class="keywordtype">bool</span> <a class="code" href="classGenericRouterPhy.html#38ea869fd387f2ee8210c615ffd5a65a">ticking</a>;
<a name="l00108"></a>00108         <span class="keywordtype">void</span> <a class="code" href="classGenericRouterPhy.html#707fa13c8ee7b7d9931526a847bc35b2" title="Event handle for the LINK_ARRIVAL_EVENT event. Entry from DES kernel.">handle_link_arrival_event</a>(<a class="code" href="classIrisEvent.html">IrisEvent</a>* e);
<a name="l00109"></a>00109         <span class="keywordtype">void</span> <a class="code" href="classGenericRouterPhy.html#d083049d20ab46d80a7480c01d1e9c23" title="Event handle for the TICK_EVENT. Entry from DES kernel This implements the pipe stages...">handle_tick_event</a>(<a class="code" href="classIrisEvent.html">IrisEvent</a>* e);
<a name="l00110"></a>00110         <span class="keywordtype">void</span> <a class="code" href="classGenericRouterPhy.html#3953e00f7d6a719af68097c551a02572">do_switch_traversal</a>();
<a name="l00111"></a>00111         <span class="keywordtype">void</span> <a class="code" href="classGenericRouterPhy.html#27fb33d3c9528b0a519b5d39bb019009">do_switch_allocation</a>();
<a name="l00112"></a>00112         <span class="keywordtype">void</span> <a class="code" href="classGenericRouterPhy.html#8c810a8b8c491e521d255425022cf155">do_input_buffering</a>();
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 }; <span class="comment">/* -----  end of class GenericRouterPhy  ----- */</span>
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 <span class="preprocessor">#endif   </span><span class="comment">/* ----- #ifndef _genericRouterPhy_h_INC  ----- */</span>
<a name="l00117"></a>00117 
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Oct 19 17:10:23 2010 for IRIS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
